{
  "entities": {
    "userProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile information.",
      "type": "object",
      "properties": {
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        }
      },
      "required": ["displayName", "email"]
    },
    "project": {
      "title": "Project",
      "description": "Represents a user's project.",
      "type": "object",
      "properties": {
        "userId": {
          "type": "string",
          "description": "The ID of the user who owns this project."
        },
        "title": {
          "type": "string",
          "description": "The title of the project."
        },
        "description": {
          "type": "string",
          "description": "The project's description."
        },
        "startDate": {
          "type": "string",
          "format": "date-time",
          "description": "The project's start date."
        },
        "targetDate": {
          "type": "string",
          "format": "date-time",
          "description": "The project's target completion date."
        },
        "status": {
          "type": "string",
          "enum": ["Not Started", "In Progress", "On Hold", "Completed"],
          "description": "The current status of the project."
        },
        "ticketPrefix": {
          "type": "string",
          "description": "A two-letter prefix for user story tickets in this project."
        }
      },
      "required": ["userId", "title", "startDate", "targetDate", "status"]
    },
    "userStory": {
      "title": "User Story",
      "description": "Represents a user story or feature within a project.",
      "type": "object",
      "properties": {
        "ticketId": {
          "type": "string",
          "description": "The unique identifier for the story (e.g., FR-001)."
        },
        "title": {
          "type": "string",
          "description": "The title of the user story."
        },
        "features": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A list of specific features or requirements for the story."
        },
        "status": {
          "type": "string",
          "enum": ["Backlog", "To Do", "In Progress", "Need Review", "Done"],
          "description": "The current status of the user story."
        }
      },
      "required": ["ticketId", "title", "features", "status"]
    },
    "task": {
      "title": "Task",
      "description": "Represents a single development task within a user story.",
      "type": "object",
      "properties": {
        "taskId": {
          "type": "string",
          "description": "The unique identifier for the task (e.g., TASK-001)."
        },
        "type": {
          "type": "string",
          "enum": ["Frontend", "Backend", "Test", "DevOps", "Documentation", "Bug", "Integration"],
          "description": "The category of the task."
        },
        "task": {
          "type": "string",
          "description": "A description of the task."
        },
        "status": {
          "type": "string",
          "enum": ["To Do", "In Progress", "Done"],
          "description": "The current status of the task."
        }
      },
      "required": ["taskId", "type", "task", "status"]
    },
    "projectPrefixCounter": {
      "title": "Project Prefix Counter",
      "description": "A global counter to ensure unique, sequential prefixes for projects.",
      "type": "object",
      "properties": {
        "lastIndex": {
          "type": "number",
          "description": "The last used index for generating a project prefix."
        }
      },
      "required": ["lastIndex"]
    },
    "skill": {
        "title": "Skill",
        "description": "Represents a skill a user is practicing.",
        "type": "object",
        "properties": {
            "userId": { "type": "string", "description": "The ID of the user who owns this skill." },
            "name": { "type": "string", "description": "The name of the skill." },
            "icon": { "type": "string", "description": "The name of the lucide-react icon for the skill." },
            "category": { "type": "string", "description": "The category the skill belongs to." },
            "totalHours": { "type": "number", "description": "Total hours practiced for this skill." },
            "subSkills": {
                "type": "array",
                "description": "A list of sub-skills.",
                "items": {
                    "type": "object",
                    "properties": {
                        "name": { "type": "string" },
                        "goals": {
                            "type": "array",
                            "items": { "$ref": "#/entities/goal" }
                        }
                    },
                    "required": ["name", "goals"]
                }
            }
        },
        "required": ["userId", "name", "icon", "category", "totalHours", "subSkills"]
    },
    "goal": {
        "title": "Goal",
        "description": "A specific goal within a sub-skill.",
        "type": "object",
        "properties": {
            "title": { "type": "string" },
            "specific": { "type": "string" },
            "measurable": { "type": "array", "items": { "type": "string" } },
            "status": { "type": "string", "enum": ["Not Started", "In Progress", "Completed"] },
            "projectId": { "type": "string" },
            "userStoryId": { "type": "string" },
            "userStoryTicketId": { "type": "string" }
        },
        "required": ["title", "specific", "measurable", "status"]
    }
  },
  "auth": {
    "providers": ["email", "google"]
  },
  "firestore": {
    "/projects/{projectId}": {
      "schema": { "$ref": "#/entities/project" },
      "description": "Stores individual project documents."
    },
    "/projects/{projectId}/userStories/{userStoryId}": {
      "schema": { "$ref": "#/entities/userStory" },
      "description": "Stores user stories for a specific project."
    },
    "/projects/{projectId}/userStories/{userStoryId}/tasks/{taskId}": {
      "schema": { "$ref": "#/entities/task" },
      "description": "Stores tasks for a specific user story."
    },
    "/metadata/projectPrefixCounter": {
      "schema": { "$ref": "#/entities/projectPrefixCounter" },
      "description": "Stores the global counter for project prefixes."
    },
    "/skills/{skillId}": {
      "schema": { "$ref": "#/entities/skill" },
      "description": "Stores individual skill documents for users."
    }
  }
}
